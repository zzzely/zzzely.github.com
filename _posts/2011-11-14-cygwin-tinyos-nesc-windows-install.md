---
layout: post
title: cygwin/TinyOS/nesC 开发环境在Windows 下的安装
date: 2011-11-14 17:48
comments: true
categories: [OS]
tags: [cygwin, TinyOS, nesc, windows]
---
{% include JB/setup %}
最近被分到物联网组，师兄让接触TinyOS的东西，为以后开发做准备。实话说，搭建开发环境着实是个考验人耐心的过程。 
如果跟我一样，你对于这个东西一无所知无基础，还是买本参考教材比较好。目前中文教材就一本清华大学的《[无线传感器网络操作系统](http://book.douban.com/subject/6809452/)》
书中举例是Windows XP 下使用cygwin模拟UNIX环境，并安装TinyOS系统以及相关工具。具体的步骤已经讲解的很详细了，并且图文并茂。这里我只想记录下安装过程中遇到的几个问题。

* 首先是安装JDK，之后需要配置环境变量，网上关于配置的很多。
如果出现javac在测试的过程中出错，一般就是环境变量配置错误了。
可以参考[这个](http://bit.ly/tTjJbb)

* cygwin平台安装比较傻瓜，但是有一点是默认情况下很多东西是没有安装的，发现缺少内容的时候就可以重新运行`setup.exe`，搜索内容然后安装。我记得安装过程运行了很多次这个，例如找不到rpm命令的时候...
* 还有一个很坑爹的sp430tools-binutils（我用的是TelosB平台）的时候会提示我MD5值计算错误而无法安装，搜了半天搜不到解决办法，后来发现居然是文件没有下载完整。（解决办法？重新下载安装...）
* 当然解决了上边rpm命令的问题之后也不是一切都那么顺利的。rpm可以，加上-qa检查安装时马上又出错了，-_-！问题在于找不到`cygintl-2.dll`，应该是某些库文件没有安装，我只是在网上下载了cygintl-2.dll，然后放到`cygwinbin`下边就ok了。
* 之后还会遇到找不到cygintl-3.dll的错误，这个是因为`libintl3`这个库没有安装，重新运行setup.exe，搜索之、安装之、搞定之！

这里有很重要的一点，更改了配置或者添加新文件后，要重启cygwin，因为cygwin只是在启动的时候才进行编译。

* 有一点教材上有讲到，放在这里，就是TinyOS目前的仿真环境只支持Micaz，不支持TelosB（好悲催啊~）。
* tinyos.sh是个很坑爹的玩意儿，如果不想遇到麻烦，最好的办法就是安装个UltraEdit，然后用LR格式保存，这样就不会像我一样MAKERULES路径出错了...;这个真心折腾了我好长时间，千万别忽视格式这个东西！

基本上安装的时候遇到的问题就是这些;之后编程的东西...就之后再说吧~
